{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}TechOhr - Building the Future{% endblock %}</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="{% block meta_description %}TechOhr is a leading technology platform offering professional courses, web development services, and tech insights. Master Django, Python, and modern web technologies with us.{% endblock %}">
    <meta name="keywords" content="{% block meta_keywords %}TechOhr, online courses, web development, software engineering, django, python, tech education, programming tutorials{% endblock %}">
    <meta name="author" content="TechOhr">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="{{ request.build_absolute_uri }}">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="{% block og_type %}website{% endblock %}">
    <meta property="og:url" content="{{ request.build_absolute_uri }}">
    <meta property="og:title" content="{% block og_title %}TechOhr - Building the Future{% endblock %}">
    <meta property="og:description" content="{% block og_description %}TechOhr is a leading technology platform offering professional courses, web development services, and tech insights.{% endblock %}">
    <meta property="og:image" content="{% block og_image %}{% static 'images/og-default.jpg' %}{% endblock %}">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="{{ request.build_absolute_uri }}">
    <meta property="twitter:title" content="{% block twitter_title %}TechOhr - Building the Future{% endblock %}">
    <meta property="twitter:description" content="{% block twitter_description %}TechOhr is a leading technology platform offering professional courses, web development services, and tech insights.{% endblock %}">
    <meta property="twitter:image" content="{% block twitter_image %}{% static 'images/og-default.jpg' %}{% endblock %}">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/alpinejs" defer></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.plyr.io/3.7.8/plyr.css" />
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['"Plus Jakarta Sans"', 'sans-serif'],
                    },
                    colors: {
                        primary: '#0066FF',
                        secondary: '#10B981',
                        dark: '#0B0F19',
                        'dark-lighter': '#111827',
                    },
                    animation: {
                        scroll: 'scroll 20s linear infinite',
                        'fade-in-up': 'fade-in-up 0.8s ease-out forwards',
                        shine: 'shine 1.5s infinite',
                    },
                    keyframes: {
                        scroll: {
                            '0%': { transform: 'translateX(0)' },
                            '100%': { transform: 'translateX(-100%)' },
                        },
                        'fade-in-up': {
                            '0%': { opacity: '0', transform: 'translateY(20px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        shine: {
                            '0%': { left: '-100%' },
                            '100%': { left: '100%' },
                        }
                    }
                }
            }
        }
    </script>
    <script>
        // Check local storage or system preference
        if (localStorage.getItem('theme') === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark');
        }

        function toggleTheme() {
            if (document.documentElement.classList.contains('dark')) {
                document.documentElement.classList.remove('dark');
                localStorage.setItem('theme', 'light');
            } else {
                document.documentElement.classList.add('dark');
                localStorage.setItem('theme', 'dark');
            }
        }
    </script>
    <style>
        [x-cloak] { display: none !important; }
        body { font-family: 'Plus Jakarta Sans', sans-serif; }
        .group:hover .animate-scroll {
            animation-play-state: paused;
        }
    </style>
    {% block extra_head %}{% endblock %}
</head>
<body class="bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-100 font-sans antialiased flex flex-col min-h-screen transition-colors duration-300">

    {% block navbar %}
    {% include 'partials/navbar.html' %}
    {% endblock %}

    <main class="flex-grow">
        {% block messages %}
        {% if messages %}
        <div class="fixed top-24 right-4 z-50 space-y-2 pointer-events-none">
            {% for message in messages %}
            {% if 'newsletter' not in message.tags %}
            <div x-data="{ show: true }" 
                 x-show="show" 
                 x-init="setTimeout(() => show = false, 5000)"
                 x-transition:enter="transition ease-out duration-300"
                 x-transition:enter-start="opacity-0 transform translate-x-8"
                 x-transition:enter-end="opacity-100 transform translate-x-0"
                 x-transition:leave="transition ease-in duration-200"
                 x-transition:leave-start="opacity-100 transform translate-x-0"
                 x-transition:leave-end="opacity-0 transform translate-x-8"
                 class="pointer-events-auto p-4 rounded-lg shadow-lg flex items-center justify-between min-w-[300px] {% if message.tags == 'success' %}bg-green-600 text-white{% elif message.tags == 'error' %}bg-red-600 text-white{% else %}bg-blue-600 text-white{% endif %}" role="alert">
                <div class="flex items-center">
                    {% if message.tags == 'success' %}<i class="fas fa-check-circle mr-2"></i>
                    {% elif message.tags == 'error' %}<i class="fas fa-exclamation-circle mr-2"></i>
                    {% else %}<i class="fas fa-info-circle mr-2"></i>{% endif %}
                    <span>{{ message }}</span>
                </div>
                <button @click="show = false" class="ml-4 text-white hover:text-gray-200 focus:outline-none">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            {% endif %}
            {% endfor %}
        </div>
        {% endif %}
        {% endblock %}

        {% block content %}{% endblock %}
    </main>

    {% block footer %}
    {% include 'partials/footer.html' %}
    {% endblock %}

    {% block extra_scripts %}{% endblock %}
    <script src="https://cdn.plyr.io/3.7.8/plyr.polyfilled.js"></script>
</body>
</html>
